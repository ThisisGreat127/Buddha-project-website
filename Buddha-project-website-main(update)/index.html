<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>ธรรมะจรรโลงใจ</title>
    <style>
        body {
            background-color: #f8f9fa;
        }

        h1 {
            color: rgb(255, 255, 255);
            background-color: black;
            margin: 0;
        }

        .pt-10 { padding-top: 10px; }
        .pb-10 { padding-bottom: 10px; }
        .mt-10 { margin-top: 10px; }

        .box {
            background-color: black;
            transition-duration: 2s;
            text-decoration: none;
            display: block;
        }

        .box:hover {
            background-color: rgb(174, 108, 1);
        }

        /* ส่วนของต้นไม้และใบไม้ */
        .tree-container {
            position: relative; /* สำคัญมาก: เพื่อให้ใบไม้อ้างอิงพิกัดจากจุดนี้ */
            width: fit-content;
            margin: 20px auto;
            border: 2px solid black;
        }

        .img-16-9 {
            display: block;
            max-width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            object-position: center;
        }

        .leaf-wrapper {
            position: absolute; /* วางทับบนรูปภาพ */
            z-index: 100; /* ให้ใบไม้ลอยอยู่เหนือรูปต้นไม้ */
            cursor: pointer;
            transition: transform 0.2s;
        }

        .leaf-wrapper:hover {
            transform: scale(1.3); /* ขยายใหญ่ขึ้นเมื่อชี้ */
        }

        .leaf-img {
            width: 70px; /* ปรับขนาดใบไม้ */
            height: auto;
            animation: sway 3s infinite ease-in-out;
            transform-origin: top center;
        }

        @keyframes sway {
            0% { transform: rotate(-8deg); }
            50% { transform: rotate(8deg); }
            100% { transform: rotate(-8deg); }
        }

        /* สไตล์หน้าต่าง Pop-up (Modal) */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7);
        }

        .modal-content {
            background: #fff;
            margin: 15% auto;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .close-btn {
            background-color: #8B4513;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>

<body>

<center>
    <a href="https://youtu.be/IHyotnCw1fA?si=l8IyH5YjJK9hKUxp" style="text-decoration: none;">
        <h1 class="pt-10 pb-10 box">ธรรมะจรรโลงใจ</h1>
    </a>
    <p class="mt-10">หลักธรรมวันนี้ เสนอ (กดที่ใบโพธิ์เพื่ออ่าน)</p>
</center>

<div class="tree-container">
    <img src="buddha-bg2.png" class="img-fluid img-16-9" alt="Buddha Background">

    <div class="leaf-wrapper" style="top: 1%; left: 44%;" onclick="openLeaf('ธรรมะข้อที่ 1: ทาน (การให้): การสละทรัพย์สิ่งของเพื่อสงเคราะห์ผู้อื่น')">
        <img src="leaf.png" class="leaf-img">
    </div>

    <div class="leaf-wrapper" style="top: 1%; left: 50%;" onclick="openLeaf('ธรรมะข้อที่ 2: ศีล (ความประพฤติดี): การรักษากาย วาจา ให้สะอาดบริสุทธิ์')">
        <img src="leaf.png" class="leaf-img">
    </div>

    <div class="leaf-wrapper" style="top: 1%; left: 70%;" onclick="openLeaf('ธรรมะข้อที่ 3: บริจาค (การเสียสละ): การเสียสละความสุขส่วนตนเพื่อประโยชน์ส่วนรวม')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 10%;" onclick="openLeaf('ธรรมะข้อที่ 4: อาชชวะ (ความซื่อตรง): มีความจริงใจ ไม่หลอกลวง ปฏิบัติหน้าที่ด้วยความสุจริต')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 26%;" onclick="openLeaf('ธรรมะข้อที่ 5: มัททวะ (ความอ่อนโยน): มีสัมมาคารวะ อ่อนโยนต่อบุคคลทั่วไป ไม่เย่อหยิ่ง')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 55%;" onclick="openLeaf('ธรรมะข้อที่ 6: ตบะ (ความเพียร): การแผดเผากิเลส มีความมุ่งมั่นในการทำงานไม่ย่อท้อ')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 20%;" onclick="openLeaf('ธรรมะข้อที่ 7: อักโกธะ (ความไม่โกรธ): การระงับความโกรธ ใช้สติและเหตุผลในการแก้ปัญหา')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 90%;" onclick="openLeaf('ธรรมะข้อที่ 8: อวิหิงสา (ความไม่เบียดเบียน): การไม่ก่อทุกข์ให้ผู้อื่น มีความเมตตา')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 85%;" onclick="openLeaf('ธรรมะข้อที่ 9: เขันติ (ความอดทน): ความอดทนต่ออุปสรรค คำวิพากษ์วิจารณ์ และความเหนื่อยยาก')">
        <img src="leaf.png" class="leaf-img">
    </div>
    
    <div class="leaf-wrapper" style="top: 1%; left: 66%;" onclick="openLeaf('ธรรมะข้อที่ 10: อวิโรธนะ (ความไม่คลาดธรรม): การตั้งมั่นอยู่ในความถูกต้อง ไม่ประพฤติผิดจากหลักการที่ควรจะเป็น')">
        <img src="leaf.png" class="leaf-img">
    </div>
</div>

<div id="modal" class="modal">
    <div class="modal-content">
        <h3 style="color: #8B4513;">คติธรรม</h3>
        <hr>
        <p id="dhamma-text" style="font-size: 1.2rem;"></p>
        <button class="close-btn" onclick="closeLeaf()">ปิด</button>
    </div>
</div>

<audio id="myAudio" loop>
    <source src="guitar-sound.mp3" type="audio/mpeg">
</audio>

<script>
    // --- ระบบเล่นเสียง ---
    function playMusic() {
        var audio = document.getElementById("myAudio");
        audio.play().catch(function (error) {
            console.log("Autoplay ถูกบล็อก");
        });
        document.removeEventListener('click', playMusic);
        document.removeEventListener('touchstart', playMusic);
    }
    document.addEventListener('click', playMusic);
    document.addEventListener('touchstart', playMusic);

    // --- ระบบเปิด-ปิดใบไม้ ---
    function openLeaf(text) {
        document.getElementById('dhamma-text').innerText = text;
        document.getElementById('modal').style.display = 'block';
    }

    function closeLeaf() {
        document.getElementById('modal').style.display = 'none';
    }

    // ปิดเมื่อคลิกนอกหน้าต่าง
    window.onclick = function(event) {
        let modal = document.getElementById('modal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

</body>
</html>